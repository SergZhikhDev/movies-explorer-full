### Критерии, влияющие на работоспособность

- [ ] 

  <!--35--> Функциональность проекта из брифа реализована полностью:

  - [ ] Общее

    - [X] Все ссылки и кнопки в проекте работают.
    - [ ]Правильно работают оба состояния шапки: если пользователь не залогинился, в шапке должны быть кнопки «Войти» и «Регистрация»; если пользователь залогинился, кнопки исчезают — и появляются кнопки «Фильмы», «Сохранённые фильмы» и «Аккаунт», в том числе и на главной странице.
    - [ ] При поиске текст запроса, найденные фильмы и состояние переключателя короткометражек сохраняются в хранилище. Если пользователь повторно переходит на страницу фильмов, то при монтировании компонента данные достаются из локального хранилища. Страница отображается в соответствии с загруженными из хранилища данными.

    **Комментарий: при каждом поиске на странице фильмов результаты поиска фильмов нужно сохранять в localstorage. В сохраняемые данные должны входить и строка поиска и статус чекбокса «Короткометражки», чтобы пользователю при повторном переходе на страницу фильмов, можно было вывести на экран информацию, полностью совпадающую с его последним поиском (с расстановкой актуального состояния лайков) перед уходом на другую страницу или перезагрузкой страницы. Эту информацию можно будет доставать из хранилища при монтировании и перерисовке компоненты фильмов. При логауте пользователя нужно эту информацию в хранилище и стейте (useState, если она там есть) уничтожать.**

    **Сейчас пользователь не видит точного результата своего последнего поиска на странице фильмов при повторном переходе на эту страницу с другой страницы, не видит результата поиска после перезагрузки страницы фильмов.**
    **Обратите внимание, восстанавливаться должен не только результат поиска, но и сам поисковый запрос, так-же он не должен никак зависеть от поиска в "Сохраненных"**

    **Замечание: Сохранять данные последнего поиска на странице «Сохранённые фильмы» для их показа при повторном входе на эту страницу не нужно. Надо при входе на эту страницу выводить на экран все сохранённые фильмы, так как пользователь может не помнить, какие фильмы он сохранял, и не найти их.  Нужно, чтобы при входе на страницу «Сохранённые фильмы» пользователь видел все свои сохранённые карточки без задания параметров поиска.**

    - [ ] Все формы валидируются и на стороне клиента. Пользователь не может отправить запрос с невалидными данными.
- [ ] Страницы «Регистрация» и «Авторизация»:

  - [ ] На странице «Регистрация» клик по кнопке «Зарегистрироваться» отправляет запрос на роут `/signup`, если данные введены корректно. Если запрос прошёл успешно, то автоматически производится вход и редирект на страницу `/movies`.
  - [ ] На странице «Авторизация» клик по кнопке «Войти» отправляет запрос на роут `/signin`, если данные введены корректно. Если запрос прошёл успешно, происходит редирект на страницу `/movies`.
  - [ ] Все формы валидируются и на стороне клиента.
- [ ] Страница редактирование профиля:

  - [ ] На странице редактирования профиля клик по кнопке «Сохранить» отправляет запрос на роут `/users/me`, если данные введены корректно.

  **Комментарий: Форма должна заполняться данными пользователя при открытии. Данные нужно всталять не в плэйсхолдер, а в поля, чтобы пользователь мог эти данные редактировать, а не набирать заново.**
  **Так-же обратите внимание, что значение в неактивном поле находится справа, а при редактировании слева, это очень неудобно, так как при установке курсора текст в поле как-бы перепрыгивает в начало строки**

  - [ ] Пользователю отображается уведомление об успешном запросе к серверу при сохранении профиля.

  **Комментарий: при сохранение профиля происходит редирект на главную страницу.**

  - [ ] Если на странице редактирования профиля введённая информация соответствует текущим данным пользователя, кнопка «Сохранить» заблокирована и нельзя отправить запрос сохранения.
- [ ] Поиск фильмов:

  - [ ] Прелоадер крутится во время выполнения запроса фильмов.
- [ ] Работа с фильтром настроена:

  - [ ] Поиск фильмов регистронезависимый.
  - [ ] Если запрос выполняется впервые, то работа с фильтром происходит после получения данных.

  **Комментарий: при каждом обновлении страницы и первом поиске фильмов данные запрашиваются с сервера, не нужно повторно делать запрос, нужно использовать данные предыдущего т.к. данные сервер возвращает те же самые - по заданию "При запросе к серверу за фильмами на странице «Фильмы» вы получаете сразу все данные и сохраняете их."**

  - [ ] Если карточки уже были отображены на странице в блоке результатов, клик по чекбоксу «Короткометражки» приводит к повторной фильтрации результата.

  **Комментарий: Если поиск произвести с включенным чекбоксом, то в результате показаны все фильмы, без учета их длительности http://joxi.ru/DrlP1q0cK9o9wr**
- [ ] После успешного сабмита формы поиска появляется блок с результатами.
  - [ ] Если ничего не найдено, выводится надпись «Ничего не найдено».
- [ ] На странице всех фильмов в блоке результата отображается такое же количество карточек, как в макете. Нажатие на кнопку «Ещё» отображает следующий ряд с тем же числом карточек. При отображении всех карточек кнопка "Ещё" скрывается.

  **Комментарий: по заданию количество карточек должно зависеть от размера экрана, сейчас добавляются всегда 3 картчоки, в том числе на планшетной версии, а должен добавляться ряд карточек**
- [ ] Карточки:
- [ ] Карточка состоит из изображения, названия фильма и его длительности. Длительность фильма рассчитывается корректно и соответствует формату в макете. Клик по карточке ведёт на трейлер фильма.
  - [ ] Кнопка лайка имеет правильное состояние, в зависимости от того, добавлен ли фильм в сохранённые или нет.
- [ ] При клике на иконку «Лайк» в блоке карточки выполняется запрос к /movies нашего API для установки или снятия лайка, в зависимости от текущего состояния.

    **Комментарий: https://skr.sh/sGMCQVPK4GT Необходимо обрабтывать ситуации, когда карточка не полностью заполнена. Отсутствует ссылка на трейлер или английское название. Сейчас сохранение такой карточки приводит к ошибке. Например фильм "Боже, храни Оззи Осборна"**

- [ ] На странице «Сохранённые фильмы»:
  - [ ] Отображается форма поиска. Она позволяет искать фильмы по уже полученным данным о сохранённых фильмах.
- [ ] Блок карточки содержит кнопку удаления, а не лайка.
- [ ] При нажатии на кнопку удаления выполняется запрос на удаление фильма. После успешного запроса карточка удаляется со страницы.
- [X] 
  <!--8--> Отсутствуют серьёзные баги, которые возникают при работе с сервисом, например:

  - Удалённые или добавленные карточки фильмов появляются только после перезагрузки страницы.
  - Если осталось отобразить меньше карточек фильмов, чем в полном ряду, то нажатие кнопки «Ещё» вызывает появление ошибок в консоли.
  - При удалении сохранённых карточек на соответствующей странице «Сохранённые фильмы» их по-прежнему можно найти через поиск. Поиск начинает корректно работать только после перезагрузки страницы.
  - Другие баги, которые возникают при работе с сервисом и требуют перезагрузки страницы или «ломают» пользовательский опыт.

- Регистрация и авторизация:
  - [X] 
    <!--2--> Роуты `/saved-movies`, `/movies`, `/profile`  защищёны HOC-компонентом `ProtectedRoute`. Роуты `/` , `/signin`, `/signup` не являются защищёнными.
  - [X] 
    <!--3--> При попытке перейти на любой защищённый роут происходит редирект на `/` .
  - [ ] 
    <!--2--> Если пользователь был авторизован и закрыл вкладку, он может вернуться сразу на любую страницу приложения по URL-адресу, кроме страниц авторизации и регистрации.
  - [X] 
    <!--2--> После успешного вызова обработчика `onSignOut` происходит редирект на `/`.
  - [X] 
    <!--1--> Корректно используются хуки роутинга.
  - [X] 
    <!--2--> При попытке перейти на несуществующую страницу происходит редирект на страницу «404». Кнопка «Назад» работает корректно.
  - [X] 
    <!--1--> Корректно используются компоненты `<Switch />`, `<Route />` и `<Redirect />`.
- Работа с JWT выполнена корректно:
  - [X] 
    <!--2--> JWT-токен хранится в `localStorage` или в `cookie`;
  - [ ] 
    <!--2--> `Jwt` проверяется запросом к серверу, а не только в локальном хранилище.

    - [X] 
      <!--3--> При выходе из аккаунта `jwt` удаляется.
- Хуки:
  - [X] 
    <!--1--> Хуки не используются внутри условных блоков или циклов.
  - [X] 
    <!--1--> Хуки вызываются в основной функции компонента.
  - [X] 
    <!--1--> При использовании классовых компонентов эффекты описаны внутри методов жизненного цикла компонента.
  - [X] 
    <!--2--> Имена пользовательских хуков начинаются с use.
- Контекст:
  - [X] 
    <!--1--> В корневом компоненте App создана стейт-переменная, которая хранит данные пользователя. Она используется в качестве значения для провайдера контекста.
  - [X] 
    <!--1--> В компонент `App` внедрён контекст через `CurrentUserContext.Provider`.
  - [X] 
    <!--1--> Компоненты, в которых используются данные профиля, подписаны на контекст.
- Асинхронные запросы к API:
  - [X] 
    <!--1--> Запросы можно осуществлять через Fetch API или XMLHttpRequest, сторонние библиотеки, такие как axios или jQuery, не применяются.
  - [X] 
    <!--1--> Запросы к API вынесены в отдельные файлы: `MainApi.js` и `MoviesApi.js`.
  - [X] 
    <!--1--> Первый обработчик `then` возвращает `res.json`. res проверяется на корректность.
  - [X] 
    <!--1--> Цепочка обработки промисов завершается блоком catch.
  - [ ] 
    <!--2--> Не выполняются лишние запросы к бэкенду, например: запрос всех фильмов с сервиса beatfilm-movies производится только при первом поиске; все сохранённые фильмы не запрашиваются с сервера при каждом лайке или дизлайке; данные пользователя запрашиваются один раз при запуске приложения.

- [X] 
  <!--2--> Именование:

  - имена переменных, функций и параметров написаны в camelCase;
  - имена переменных — существительные;
  - имена переменных, функций и компонентов соответствуют содержимому;
  - имена коллекций NodeList — существительные во множественном числе;
  - имя функции начинается с глагола и отражает то, что она делает;
  - для именования запрещены: транслит и неуместные сокращения.

### Хорошие практики

- [X] 
  <!--1--> Начальное состояние стейт-переменных содержит корректный тип данных.
- [X] 
  <!--2--> Для элементов списка используется уникальный ключ key, а не индекс массива.
- [X] 
  <!--1--> Запросы к API описаны внутри компонента `App` или в корневых компонентах страниц.
- [X] 
  <!--2--> Для внутренних ссылок в приложении используются компоненты из библиотеки react-router.
- [X] 
  <!--2--> Не происходит утечки памяти при навешивании обработчиков. Все обработчики, добавленные через addEventListener, удаляются при размонтировании компонента.

- Обработка ошибок API:
  - [X] 
    <!--4--> пользователь получает сообщение в случае любой ошибки;
  - [ ] 
    <!--2--> поля формы заблокированы во время отправки запросов и у пользователя нет возможности отправить новый запрос до завершения предыдущего.

- [X] 
  <!--2--> Фиксированные значения (константы) именуются заглавными буквами и вынесены в отдельный конфиг-файл.

### Рекомендации

- [X] 
  <!--2--> Сторонние JavaScript-библиотеки не применяются.
- [X] 
  <!--1--> Используются семантически правильные блоки для компонентов. Не используются div или иные лишние HTML-тэги для компонентов, которые состоят из одноуровневых блоков.
- [X] 
  <!--2--> Отсутствует «мусор» в коде:

  - нет беспорядка в коде;
  - нет лишнего кода: переменная объявлена, но не используется или есть какая-то лишняя логика;
  - код форматирован одинаково, соблюдается иерархия отступов.
